{"ast":null,"code":"import mapboxgl from \"mapbox-gl\";\nexport default {\n  name: \"HomeView\",\n\n  data() {\n    return {\n      map: null,\n      locations: [{\n        name: \"Brushy Mountain State Penitentiary\",\n        date: \"2019-10-26\",\n        coordinates: {\n          latitude: 36.1052,\n          longitude: -84.4529\n        }\n      }, {\n        name: \"Old South Pittsburg Hospital\",\n        date: \"2019-11-02\",\n        coordinates: {\n          latitude: 35.0021,\n          longitude: -85.7147\n        }\n      }],\n      accessToken: `${process.env.VUE_APP_API_KEY}`\n    };\n  },\n\n  mounted() {\n    mapboxgl.accessToken = this.accessToken;\n    this.map = new mapboxgl.Map({\n      container: \"mapContainer\",\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [103.811279, 1.345399],\n      zoom: 12\n    });\n    const marker = new mapboxgl.Marker({\n      /* options */\n    });\n    const markerDiv = marker.getElement();\n    markerDiv.addEventListener('mouseenter', () => marker.togglePopup());\n    markerDiv.addEventListener('mouseleave', () => marker.togglePopup());\n  },\n\n  methods: {\n    addMarker(location) {\n      const {\n        longitude,\n        latitude\n      } = location.coordinates;\n      const marker = new mapboxgl.Marker().setLngLat([longitude, latitude]).addTo(this.map);\n      this.map.setCenter([longitude, latitude]);\n      this.addPopup(location, marker);\n    },\n\n    // for marker popup\n    addPopup(location, marker) {\n      const markerDiv = marker.getElement();\n      var popup = new mapboxgl.Popup({\n        offset: [0, -35]\n      }).setText(`${location.name} \\n ${location.date}`); // hover event listener\n\n      markerDiv.addEventListener('mouseenter', () => popup.addTo(this.map));\n      markerDiv.addEventListener('mouseleave', () => popup.remove()); // add popup to marker\n\n      marker.setPopup(popup); // add marker to map\n\n      marker.addTo(this.map);\n    }\n\n  }\n};","map":{"version":3,"sources":["/Users/muhammad/Ayaz/express-vue3-tailwind-map/client/src/views/HomeView.vue"],"names":[],"mappings":"AAyBA,OAAO,QAAP,MAAqB,WAArB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;;AAEb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,GAAG,EAAE,IADA;AAEL,MAAA,SAAS,EAAE,CACT;AACE,QAAA,IAAI,EAAE,oCADR;AAEE,QAAA,IAAI,EAAE,YAFR;AAGE,QAAA,WAAW,EAAE;AACT,UAAA,QAAQ,EAAE,OADD;AAET,UAAA,SAAS,EAAE,CAAC;AAFH;AAHf,OADS,EAUT;AACE,QAAA,IAAI,EAAE,8BADR;AAEE,QAAA,IAAI,EAAE,YAFR;AAGE,QAAA,WAAW,EAAE;AACT,UAAA,QAAQ,EAAE,OADD;AAET,UAAA,SAAS,EAAE,CAAC;AAFH;AAHf,OAVS,CAFN;AAqBL,MAAA,WAAW,EAAG,GAAE,OAAO,CAAC,GAAR,CAAY,eAAgB;AArBvC,KAAP;AAuBD,GA1BY;;AA2Bb,EAAA,OAAO,GAAG;AACR,IAAA,QAAQ,CAAC,WAAT,GAAuB,KAAK,WAA5B;AAEC,SAAK,GAAL,GAAW,IAAI,QAAQ,CAAC,GAAb,CAAiB;AAC3B,MAAA,SAAS,EAAE,cADgB;AAE3B,MAAA,KAAK,EAAE,oCAFoB;AAG3B,MAAA,MAAM,EAAE,CAAC,UAAD,EAAa,QAAb,CAHmB;AAI3B,MAAA,IAAI,EAAE;AAJqB,KAAjB,CAAX;AAMD,UAAM,MAAK,GAAI,IAAI,QAAQ,CAAC,MAAb,CAAoB;AAAC;AAAD,KAApB,CAAf;AACA,UAAM,SAAQ,GAAI,MAAM,CAAC,UAAP,EAAlB;AAEA,IAAA,SAAS,CAAC,gBAAV,CAA2B,YAA3B,EAAyC,MAAM,MAAM,CAAC,WAAP,EAA/C;AACA,IAAA,SAAS,CAAC,gBAAV,CAA2B,YAA3B,EAAyC,MAAM,MAAM,CAAC,WAAP,EAA/C;AACD,GAzCY;;AA0Cb,EAAA,OAAO,EAAE;AACP,IAAA,SAAS,CAAC,QAAD,EAAU;AACjB,YAAM;AAAC,QAAA,SAAD;AAAY,QAAA;AAAZ,UAAwB,QAAQ,CAAC,WAAvC;AACA,YAAM,MAAK,GAAI,IAAI,QAAQ,CAAC,MAAb,GACd,SADc,CACJ,CAAC,SAAD,EAAY,QAAZ,CADI,EAEd,KAFc,CAER,KAAK,GAFG,CAAf;AAGA,WAAK,GAAL,CAAS,SAAT,CAAmB,CAAC,SAAD,EAAY,QAAZ,CAAnB;AACA,WAAK,QAAL,CAAc,QAAd,EAAwB,MAAxB;AACD,KARM;;AASP;AACA,IAAA,QAAQ,CAAC,QAAD,EAAW,MAAX,EAAkB;AACxB,YAAM,SAAQ,GAAI,MAAM,CAAC,UAAP,EAAlB;AACA,UAAI,KAAI,GAAI,IAAI,QAAQ,CAAC,KAAb,CAAmB;AAAC,QAAA,MAAM,EAAC,CAAC,CAAD,EAAI,CAAC,EAAL;AAAR,OAAnB,EACX,OADW,CAET,GAAE,QAAQ,CAAC,IAAI,OAAO,QAAQ,CAAC,IAAK,EAF3B,CAAZ,CAFwB,CAOxB;;AACA,MAAA,SAAS,CAAC,gBAAV,CAA2B,YAA3B,EAAyC,MAAM,KAAK,CAAC,KAAN,CAAY,KAAK,GAAjB,CAA/C;AACA,MAAA,SAAS,CAAC,gBAAV,CAA2B,YAA3B,EAAyC,MAAM,KAAK,CAAC,MAAN,EAA/C,EATwB,CAWxB;;AACA,MAAA,MAAM,CAAC,QAAP,CAAgB,KAAhB,EAZwB,CAaxB;;AACA,MAAA,MAAM,CAAC,KAAP,CAAa,KAAK,GAAlB;AACF;;AAzBO;AA1CI,CAAf","sourcesContent":["<template>\n  <div class=\"flex h-screen relative\">\n    <div class=\"w-[30%]\">\n      <div\n        v-for=\"(location, ind) in locations\"\n        :key=\"ind\"\n        @click=\"addMarker(location)\"\n        class=\"border-[1px] p-2\"\n      >\n        <h2 class=\"text-[14px]\">{{ location.name }}</h2>\n        <span>{{ location.date }}</span>\n      </div>\n    </div>\n    <div id=\"mapContainer\" class=\"w-[70%]\"></div>\n    <!-- <MglMap\n    :accessToken=\"accessToken\"\n    :mapStyle=\"mapStyle\"\n    :center=\"coordinates\"\n  >\n    <MglMarker :coordinates=\"coordinates\" color=\"red\" />\n  </MglMap> -->\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      map: null,\n      locations: [\n        {\n          name: \"Brushy Mountain State Penitentiary\",\n          date: \"2019-10-26\",\n          coordinates: {\n              latitude: 36.1052,\n              longitude: -84.4529,\n          },\n        },\n\n        {\n          name: \"Old South Pittsburg Hospital\",\n          date: \"2019-11-02\",\n          coordinates: {\n              latitude: 35.0021,\n              longitude: -85.7147,\n          },\n        },\n      ],\n      accessToken: `${process.env.VUE_APP_API_KEY}`,\n    };\n  },\n  mounted() {\n    mapboxgl.accessToken = this.accessToken;\n\n     this.map = new mapboxgl.Map({\n      container: \"mapContainer\",\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [103.811279, 1.345399],\n      zoom: 12,\n    });\n    const marker = new mapboxgl.Marker({/* options */});\n    const markerDiv = marker.getElement();\n\n    markerDiv.addEventListener('mouseenter', () => marker.togglePopup());\n    markerDiv.addEventListener('mouseleave', () => marker.togglePopup());\n  },\n  methods: {\n    addMarker(location){\n      const {longitude, latitude} = location.coordinates;\n      const marker = new mapboxgl.Marker()\n      .setLngLat([longitude, latitude])\n      .addTo(this.map);\n      this.map.setCenter([longitude, latitude]);\n      this.addPopup(location, marker)\n    },\n    // for marker popup\n    addPopup(location, marker){\n      const markerDiv = marker.getElement();\n      var popup = new mapboxgl.Popup({offset:[0, -35]})\n      .setText(\n        `${location.name} \\n ${location.date}`\n      );\n\n      // hover event listener\n      markerDiv.addEventListener('mouseenter', () => popup.addTo(this.map));\n      markerDiv.addEventListener('mouseleave', () => popup.remove());\n\n      // add popup to marker\n      marker.setPopup(popup);\n      // add marker to map\n      marker.addTo(this.map);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.mapboxgl-popup {\n  max-width: 400px;\n  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n}\n\n</style>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}